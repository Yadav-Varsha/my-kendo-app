<div class="d-flex align-items-center justify-content-between mb-4">
  <h2 class="text-all fw-bold mb-0">Lead Management</h2>
  <!-- <span class="lead p-2">Leads</span> -->
  <div class="d-flex align-items-center gap-2 ms-auto">
    <div> <input type="checkbox" id="viewBoardCheck" />
      <label for="viewBoardCheck" class="mb-0 ms-2"> Board View</label>
    </div>
    <button type="button" class="btn btn-all"><i class="bi bi-file-earmark-pdf"></i>
      Export to Excel
    </button>
    <button type="button" class="btn btn-all">
      Create
    </button>
  </div>
</div>


<kendo-grid [kendoGridBinding]="gridView" kendoGridSelectBy="id" [(selectedKeys)]="mySelection"
  [selectable]="{ mode: 'multiple', drag: true }" [pageSize]="20" [pageable]="true" [sortable]="true" [groupable]="true"
  [reorderable]="true" [resizable]="true" [height]="500" [columnMenu]="{ filter: true }">
 
  <ng-template kendoGridToolbarTemplate>
    
    <kendo-dropdownlist
      [data]="leadsOptions"
      [(ngModel)]="selectedLead"
      class="large-dropdown">
      >
    </kendo-dropdownlist>
<kendo-dropdownlist [data]="areaList" defaultItem="Select Saved Preferences" class="large-dropdown"></kendo-dropdownlist>
    <!-- <kendo-dropdownlist [data]="preferencesOptions" [(ngModel)]="selectedPreference"  class="large-dropdown">
    </kendo-dropdownlist>  -->

    <kendo-textbox [style.width.px]="165" placeholder="Search in all columns..."
      (valueChange)="onFilter($event)"> </kendo-textbox>  
      <button class="btn" >
        <i class="bi bi-search"></i>
      </button>
      <div class="d-flex align-items-center gap-2 mt-2 mt-md-0">

        <!-- Toggle Buttons -->
        <div class="toggle-wrapper d-inline-flex p-1 rounded-pill">
          <button
            class="toggle-btn"
            [ngClass]="{ 'active-btn': activeView === 'non-intl' }"
            (click)="toggleView('non-intl')"
          >
            Non-Intl.
          </button>
        
          <button
            class="toggle-btn"
            [ngClass]="{ 'active-btn': activeView === 'intl' }"
            (click)="toggleView('intl')"
          >
            Intl.
          </button>
        </div>
        
        
        
    
        <!-- Action Buttons -->
        <button class="btn" >Clear Filters</button>
        <button class="btn" >Bulk Edit</button>
        <button class="btn">Save Preferences</button>
    
        <!-- Menu Icon Button -->
        <button class="btn border" style="padding: 4px 8px;">
          <i class="bi bi-list"></i>
        </button>
      </div>
       
     
    <kendo-grid-spacer></kendo-grid-spacer>
    <!-- <button kendoGridExcelCommand type="button" [svgIcon]="excelSVG">
          Export to Excel
        </button> -->
    <!-- <button kendoGridPDFCommand [svgIcon]="pdfSVG">Export to PDF</button> -->
  </ng-template>
  <kendo-grid-checkbox-column [width]="45" [headerClass]="{ 'text-center': true }" [class]="{ 'text-center': true }"
    [resizable]="false" [columnMenu]="false" [showSelectAll]="true"></kendo-grid-checkbox-column>
  <!-- <kendo-grid-column-group title="Employee" [columnMenu]="false"> -->
    <kendo-grid-column class="header" field="full_name" title="Actions" [width]="220">
      <ng-template kendoGridCellTemplate let-dataItem>
        <div class="customer-photo" [ngStyle]="{ 'background-image': photoURL(dataItem) }"></div>
        <div class="customer-name">{{ dataItem.full_name }}</div>
      </ng-template>
    </kendo-grid-column>
    <kendo-grid-column  class="header" field="job_title" title="Record Id" [width]="220">
    </kendo-grid-column>
    <kendo-grid-column  class="header" field="country" title="Last Name" [width]="100" [class]="{ 'text-center': true }"
      [resizable]="false">
      <ng-template kendoGridCellTemplate let-dataItem>
        <img class="flag" [src]="flagURL(dataItem)" [width]="30" />
      </ng-template>
    </kendo-grid-column>
    <kendo-grid-column  class="header" field="is_online" title="First Name" [width]="100" [class]="{ 'text-center': true }"
      [resizable]="false" filter="boolean">
      <ng-template kendoGridCellTemplate let-dataItem>
        @if (dataItem.is_online === true) {
        <span class="badge badge-success">Online</span>
        } @if (dataItem.is_online === false) {
        <span class="badge badge-danger">Offline</span>
        }
      </ng-template>
    </kendo-grid-column>
  <!-- </kendo-grid-column-group> -->
  <!-- <kendo-grid-column-group title="Performance" [columnMenu]="false"> -->
    <kendo-grid-column  class="header" field="rating" title="Primary Email Address" [width]="200" [resizable]="false" filter="numeric">
      <ng-template kendoGridCellTemplate let-dataItem>
        <kendo-rating [value]="dataItem.rating" [readonly]="true" precision="half"></kendo-rating>
      </ng-template>
    </kendo-grid-column>
    <kendo-grid-column  class="header" field="target" title="Primary Phone Type" [width]="230" [resizable]="false" filter="numeric">
      <ng-template kendoGridCellTemplate let-dataItem>
        <kendo-sparkline type="bar" [data]="dataItem.target" [tooltip]="{ visible: false }" [transitions]="true"
          [seriesDefaults]="{
                labels: { background: 'none', visible: true, format: '{0}%' }
              }">
          <kendo-chart-area [opacity]="0" [width]="200"></kendo-chart-area>
          <kendo-chart-value-axis>
            <kendo-chart-value-axis-item [min]="0" [max]="130">
            </kendo-chart-value-axis-item>
          </kendo-chart-value-axis>
        </kendo-sparkline>
      </ng-template>
    </kendo-grid-column>
    <kendo-grid-column field="budget" title="LMP Lead Id" [width]="100" filter="numeric" >
      <ng-template kendoGridCellTemplate let-dataItem>
        <span [ngClass]="{ 'red text-bold': dataItem.budget < 0 }">{{
          dataItem.budget | currency
          }}</span>
      </ng-template>
    </kendo-grid-column>
  <!-- </kendo-grid-column-group> -->
  <!-- <kendo-grid-column-group title="Contacts" [columnMenu]="false"> -->
    <kendo-grid-column  field="phone" title="Appointment Type" [width]="130" [headerClass]="'header-blue'">
    </kendo-grid-column>
    <kendo-grid-column  field="address" title="Booking Agency" [width]="200" [headerClass]="'header-blue'">
    </kendo-grid-column>
  <!-- </kendo-grid-column-group> -->

  <kendo-grid-pdf fileName="Employees.pdf" [repeatHeaders]="true"></kendo-grid-pdf>
  <kendo-grid-excel fileName="Employees.xlsx"></kendo-grid-excel>
</kendo-grid>